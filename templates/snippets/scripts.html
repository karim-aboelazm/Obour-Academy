{% load static %}
<script src="{% static '' %}jquery/jquery.min.js"></script>
<script src="{% static '' %}bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

<script src="{% static '' %}js/isotope.min.js"></script>
<script src="{% static '' %}js/owl-carousel.js"></script>
<script src="{% static '' %}js/lightbox.js"></script>
<script src="{% static '' %}js/tabs.js"></script>
<script src="{% static '' %}js/video.js"></script>
<script src="{% static '' %}js/slick-slider.js"></script>
<script src="{% static '' %}js/custom.js"></script>
<script>
    //according to loftblog tut
    $('.nav li:first').addClass('active');

    var showSection = function showSection(section, isAnimate) {
    var
    direction = section.replace(/#/, ''),
    reqSection = $('.section').filter('[data-section="' + direction + '"]'),
    reqSectionPos = reqSection.offset().top - 0;

    if (isAnimate) {
        $('body, html').animate({
        scrollTop: reqSectionPos },
        800);
    } else {
        $('body, html').scrollTop(reqSectionPos);
    }

    };

    var checkSection = function checkSection() {
    $('.section').each(function () {
        var
        $this = $(this),
        topEdge = $this.offset().top - 80,
        bottomEdge = topEdge + $this.height(),
        wScroll = $(window).scrollTop();
        if (topEdge < wScroll && bottomEdge > wScroll) {
        var
        currentId = $this.data('section'),
        reqLink = $('a').filter('[href*=\\#' + currentId + ']');
        reqLink.closest('li').addClass('active').
        siblings().removeClass('active');
        }
    });
    };

    $('.main-menu, .scroll-to-section').on('click', 'a', function (e) {
    if($(e.target).hasClass('external')) {
        return;
    }
    //e.preventDefault();
    $('#menu').removeClass('active');
    showSection($(this).attr('href'), true);
    });

    $(window).scroll(function () {
    checkSection();
    });
</script>